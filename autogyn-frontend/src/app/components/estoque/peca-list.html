<!-- src/app/components/estoque/peca-list.component.html -->
<div class="cliente-list-container">
  <h2 class="cliente-title">Pe√ßas em Estoque</h2>

  <div class="nova-cliente-button">
    <button
      pButton
      icon="pi pi-arrow-left"
      label="Voltar para Home"
      class="submit-button"
      [routerLink]="['/dashboard']"
    ></button>
    <button
      pButton
      icon="pi pi-plus"
      label="Nova Pe√ßa"
      class="submit-button"
      [routerLink]="['/estoque/novo']"
    ></button>
  </div>

  <p-table
    [value]="pecas"
    [paginator]="true"
    [rows]="10"
    [responsiveLayout]="'scroll'"
    [rowsPerPageOptions]="[5, 10, 25, 50]"
    [showCurrentPageReport]="pecas.length > 0"
    currentPageReportTemplate="Mostrando {first} a {last} de {totalRecords} itens"
    class="p-datatable-sm p-datatable-gridlines p-datatable-striped cliente-tabela"
  >
    <ng-template pTemplate="header">
      <tr>
        <th>Nome</th>
        <th>Descri√ß√£o</th>
        <th>Quantidade</th>
        <th>Pre√ßo Unit√°rio</th>
        <th style="text-align: center; width: 130px;">A√ß√µes</th>
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-peca>
      <tr>
        <td>{{ peca.nome }}</td>
        <td>{{ peca.descricao }}</td>
        <td
          [ngClass]="
            peca.quantidade < peca.estoqueMinimo
              ? 'quantity-low'
              : 'quantity-ok'
          "
        >
          {{ peca.quantidade }}
          <span
            *ngIf="peca.quantidade < peca.estoqueMinimo"
            class="pi pi-exclamation-triangle"
            style="margin-left: 5px;"
          ></span>
        </td>
        <td>{{ peca.valorUnitario | currency: 'BRL' }}</td>
        <td class="acoes">
          <button class="p-button p-button-sm p-button-info">‚úèÔ∏è </button>
          <button class="p-button p-button-sm p-button-danger">üóëÔ∏è </button>
        </td>
      </tr>
    </ng-template>

  </p-table>
</div>
